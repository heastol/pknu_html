<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <style>
        body{
            background-color: rgba(0, 0, 0, 0.63);
            height: 100vh;
        }
        .container{
            position: relative;
            top: 30%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 50vh;
            border-radius: 20px;
            width: 400px;
            gap: 20px;
            background-color: white;
        }
        .container div{
            width: 100%;
        }
    </style>
  </head>
  <body>

    <div class="container">
        <div class="form-floating mb-3">
            <input type="number" 
                   class="form-control" 
                   id="floatingInput" 
                   placeholder="값" 
                   min = "0" 
                   max = "100" 
                   >
            <label for="floatingInput">데이터 값 입력</label>
        </div>
        <div class="btn-group" role="group" aria-label="Basic mixed styles example">
            <button type="button" class="btn btn-success" onclick = "fnInp()">
                <span id="spin" class="" aria-hidden="true"></span>
                전송
            </button>
            <button type="button" class="btn btn-warning" onclick = "fnRst()">취소</button>
        </div>
        <div 
        class="progress" 
        role="progressbar" 
        aria-label="Info example striped" 
        aria-valuenow="50" 
        aria-valuemin="0" 
        aria-valuemax="100"
        >
            <div id = "prog" class="progress-bar text-bg-info" style="width: 50%">50%</div>
        </div>
        <h2 id = "disp">입력 값 없음</h2>
    </div>

    <h3>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus dolorum rerum autem vitae voluptatem. Libero ex repudiandae blanditiis explicabo placeat vero illo adipisci. Praesentium nihil dolorum corrupti deleniti debitis magni, illo possimus, necessitatibus ex reiciendis nisi in, atque autem nulla quos natus mollitia. Dignissimos, odit! Voluptate laudantium dolor asperiores ducimus pariatur dignissimos beatae. Reiciendis sequi explicabo aliquam officia autem sint reprehenderit sunt earum dolor perspiciatis quod sed, atque tenetur, culpa quaerat amet expedita est veritatis omnis minus voluptatem, voluptates consectetur porro. Fuga reprehenderit voluptas nam accusamus aperiam delectus, eos doloremque recusandae deleniti eum, tempore nostrum labore. Perspiciatis expedita, reprehenderit rerum minus sint explicabo dicta, amet laudantium mollitia, tempore impedit velit! Provident, laudantium iste. Nisi, expedita voluptatem illo, maxime aut officiis consequuntur animi accusantium, ad similique consectetur vitae sit autem eos aperiam rem hic ex dolores consequatur ullam sunt possimus iste? Quis voluptate aut aliquid magni assumenda asperiores sunt, necessitatibus amet est facilis excepturi praesentium molestias possimus culpa nisi sint accusamus rerum exercitationem esse! Eligendi, vitae fuga ullam, commodi maxime quasi accusamus, vel pariatur excepturi nihil voluptates ab tempora nobis et. Odio libero nisi fugit non quas minima amet incidunt tempore facilis voluptas laboriosam laborum, expedita cupiditate a. Iusto, optio quo.
    </h3>

    <script>
        const inp = document.querySelector("#floatingInput");
        const disp = document.querySelector("#disp");
        const prog = document.querySelector("#prog");
        const spin = document.querySelector("#spin");
        const fnLoaded = () =>{
            if(inp.value <= 25){
                prog.classList.remove("text-bg-success");
                prog.classList.remove("text-bg-info");
                prog.classList.remove("text-bg-warning");
                prog.classList.add("text-bg-danger");
            }else if(inp.value > 25 && inp.value <= 50){
                prog.classList.remove("text-bg-success");
                prog.classList.remove("text-bg-info");
                prog.classList.remove("text-bg-danger");
                prog.classList.add("text-bg-warning");
            }else if(inp.value >50 && inp.value <= 75){
                prog.classList.remove("text-bg-success");
                prog.classList.remove("text-bg-warning");
                prog.classList.remove("text-bg-danger");
                prog.classList.add("text-bg-info");
            }else{
                prog.classList.remove("text-bg-info");
                prog.classList.remove("text-bg-warning");
                prog.classList.remove("text-bg-danger");
                prog.classList.add("text-bg-success");
            }
        };
        const fnAspin = () => {
            spin.classList.add("spinner-border");
            spin.classList.add("spinner-border-sm");
        }
        const fnDspin = () => {
            spin.classList.remove("spinner-border");
            spin.classList.remove("spinner-border-sm");
        }
        const fnInp = () => {
            disp.textContent = `${inp.value}%`;
            prog.textContent = `${inp.value}%`;
            prog.style.width = `${inp.value}%`;

            fnLoaded();

            fnAspin();

            setTimeout(() => fnDspin(), 2000);
        };
        const fnRst = () => {
            disp.textContent = "0%";
            prog.textContent = "0%";
            inp.value = "";
            prog.style.width = `0%`;
        };
        
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
